---
import Title from '../ui/Title.astro'
import VortexCanvas from '../ui/VortexCanvas.astro'
import SectionContainer from './SectionContainer.astro'
import TechBadge from '../ui/TechBadge.astro'
import { getLangFromUrl, useTranslations } from '../../i18n/utils'
import type { SkillName } from '../../constants'

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)

const SkillsFrontend: SkillName[] = [
	'Next.js',
	'React',
	'Vue',
	'Tailwind',
	'Astro',
	'HTML',
	'CSS',
	'Javascript'
] as const

const SkillsBackend: SkillName[] = [
	'Node',
	'Express',
	'Prisma',
	'Typescript',
	'Python',
	'FastAPI',
	'PHP',
	'Supabase',
	'Firebase'
] as const

const SkillsDatabases: SkillName[] = ['PostgreSQL', 'Mongo', 'MySQL'] as const

const OtherTools: SkillName[] = ['Docker', 'Git', 'Figma', 'Wordpress'] as const
---

<SectionContainer id="skills" margin={false} class="my-24">
	<Title variant="Title">{t('skills.title')}</Title>
	<Title variant="description">{t('skills.subtitle')} </Title>

	<div class="relative w-full h-auto flex justify-center items-center flex-col p-6">
		<VortexCanvas>
			<div class="flex flex-col justify-center md:items-center gap-4">
				<section class="flex justify-center items-center flex-wrap gap-4">
					<p class="text-muted text-sm font-semibold">Frontend:</p>
					<ul class="flex justify-center items-center flex-wrap gap-4">
						{SkillsFrontend.map((name) => <TechBadge {name} />)}
					</ul>
				</section>

				<section class="flex justify-center items-center flex-wrap gap-4 mt-4">
					<p class="text-muted text-sm font-semibold">Backend:</p>
					<ul class="flex justify-center items-center flex-wrap gap-4">
						{SkillsBackend.map((name) => <TechBadge {name} />)}
					</ul>
				</section>

				<section class="flex justify-center items-center flex-wrap gap-4 mt-4">
					<p class="text-muted text-sm font-semibold">Databases:</p>
					<ul class="flex justify-center items-center flex-wrap gap-4">
						{SkillsDatabases.map((name) => <TechBadge {name} />)}
					</ul>
				</section>

				<section class="flex justify-center flex-col items-center flex-wrap gap-4 mt-4">
					<p class="text-muted text-sm font-semibold">Other Tools:</p>
					<ul class="flex justify-center items-center flex-wrap gap-4">
						{OtherTools.map((name) => <TechBadge {name} />)}
					</ul>
				</section>
			</div>
		</VortexCanvas>
	</div>
</SectionContainer>
